# ============================================================
# Global project paths (relative to PROJECT ROOT)
# ============================================================

[paths]
data_dir      = "data"
results_dir   = "results"
logs_dir      = "results/logs"
ode_data_dir  = "data"


# ============================================================
# TF OPTIMIZATION (mRNA → TF)
# Used by:
#   - tfopt.local.config.constants
#   - tfopt.evol.config.constants
# ============================================================

[tfopt]

# --------------------
# Input files (relative to data_dir)
# --------------------
input1 = "input1.csv"     # expression / mRNA
input3 = "input3.csv"     # TF activity / Rout-Limma
input4 = "input4.csv"     # TF metadata / network

# --------------------
# Output
# --------------------
out_file = "tfopt_results.xlsx"

# --------------------
# Time grid (minutes)
# --------------------
time_points = [
  4, 8, 15, 30, 60,
  120, 240, 480, 960
]

# --------------------
# Default optimization parameters
# (used unless overridden by CLI or mode)
# --------------------
lower_bound = -4.0
upper_bound =  4.0

# Loss types (integer, matches tfopt code)
# 0: MSE
# 1: MAE
# 2: soft L1
# 3: Cauchy
# 4: Arctan
# 5: Elastic Net
# 6: Tikhonov
loss_type = 5

# --------------------
# Mode-specific overrides
# --------------------

[tfopt.modes.local]
# SLSQP / TRUST-CONSTR defaults
# (keep wide bounds for local refinement)
lower_bound = -4.0
upper_bound =  4.0
loss_type   = 5

[tfopt.modes.evol]
# Global evolutionary search defaults
lower_bound = -4.0
upper_bound =  4.0
loss_type   = 0

# Optimizer choices:
# 0: NSGA-II
# 1: SMSEMOA
# 2: AGEMOEA
optimizer = 0


# ============================================================
# KINASE OPTIMIZATION (Kinase → Phosphosite)
# Used by:
#   - kinopt.local.config.constants
#   - kinopt.evol.config.constants
# ============================================================

[kinopt]

# --------------------
# Input files (relative to data_dir)
# --------------------
input1 = "input1.csv"   # kinase / protein abundance
input2 = "input2.csv"   # phosphosite data

# --------------------
# Output
# --------------------
out_file = "kinopt_results.xlsx"

# --------------------
# Time grid (minutes)
# --------------------
time_points = [
  0.0, 0.5, 0.75, 1.0,
  2.0, 4.0, 8.0, 16.0,
  30.0, 60.0, 120.0,
  240.0, 480.0, 960.0
]

# --------------------
# Default optimization parameters
# --------------------
lower_bound = -4.0
upper_bound =  4.0

# Loss types (string, matches kinopt code)
# base | weighted | softl1 | cauchy | arctan
loss_type = "weighted"

# Estimate missing kinase–psite pairs?
estimate_missing_kinases = true

# Scaling options:
# min_max | log | temporal | segmented | slope | cumulative | none
scaling_method = "none"

# Used for temporal scaling
split_point = 9

# Used for segmented scaling
segment_points = [0, 3, 6, 9, 14]

# Optimization method (local)
# slsqp | trust-constr
method = "slsqp"


# --------------------
# Mode-specific overrides
# --------------------

[kinopt.modes.local]
# Trust the defaults; override if needed
method = "slsqp"

[kinopt.modes.evol]
# Narrower bounds for global search
lower_bound = -4.0
upper_bound =  4.0

# Loss choices for evol
# base | autocorrelation | huber | mape | weighted
loss_type = "base"

# Regularization (used only in evol)
regularization = false

# Evolutionary optimizer backend
# DE | NSGA-II (string, passed through)
method = "DE"
